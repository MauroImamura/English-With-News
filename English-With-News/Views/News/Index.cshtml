@model NewsList

<style>
    .swal2-content {
        text-align: justify !important;
        font-size: 15px !important;
    }
    .swal2-title {
        font-size: 25px !important;
    }
    h2{
        font-size: 20px;
        font-weight: bold;
    }
</style>

<h1 style="text-align:center">NEW LIST</h1>
<hr/>
<ul>
    @foreach(News news in Model.currentNews)
    {
        var rowHeader = "";
        var list = news.headline.Split(" ");
        foreach(var word in list)
        {
            var element = $"<span class=\"meaningConsult\" id=\"meaningConsult\" data-id=\"{@word}\">{@word} </span>";
            rowHeader += element;
        }

        var rowSummary = "";
        var list2 = news.summmary.Split(" ");
        foreach(var word in list2)
        {
            var element = $"<span class=\"meaningConsult\" id=\"meaningConsult\" data-id=\"{@word}\">{@word} </span>";
            rowSummary += element;
        }
        
        <li>
            <h2>@Html.Raw(rowHeader)</h2>
            <p>@Html.Raw(rowSummary)</p>
        </li>
    }
</ul>

<!-- Sweet Alert-->
<link href="~/lib/sweetalert2/sweetalert2.min.css" rel="stylesheet" type="text/css" />
<script src="~/lib/sweetalert2/sweetalert2.min.js"></script>

<script src="~/lib/jquery/dist/jquery.js"></script>
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script type="text/javascript">

    $('.meaningConsult').click(function () {
    //function searchMeaning(word) {
        var word = $(this).attr("data-id");
        var url = "/news/Meaning";

        $.post(url, { word: word }, function(data) {
            var information = $.parseJSON(data);
            var title = information.word.toUpperCase();
            var meanings = information.meanings;
            var arr = [];

            for (var index = 0; index < meanings.length; index++) {
                var mean = meanings[index].definitions;
                for (var idx = 0; idx < mean.length; idx++){
                    var item = mean[idx];
                    arr.push(item.definition);
                }
            }
            var m = arr.join(" || ");

            Swal.fire(
            {
                title: title,
                text: m,
                showCancelButton: 0,
                confirmButtonColor: "#6D3227",
                confirmButtonText: "Close"
            }
            );
        });
    });

</script>